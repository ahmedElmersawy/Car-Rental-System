<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Rental System</title>
    <style>
        form {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Car Rental System</h1>

    <!-- Car Form -->
    <h2>Add Car</h2>
    <form id="carForm">
        <label for="plateId">Plate ID:</label>
        <input type="text" id="plateId" name="plateId" required><br>

        <label for="model">Model:</label>
        <input type="text" id="model" name="model" required><br>

        <label for="color">Color:</label>
        <input type="text" id="color" name="color" required><br>

        <label for="rentPrice">Rent Price:</label>
        <input type="number" step="0.01" id="rentPrice" name="rentPrice" required><br>

        <label for="carStatus">Car Status:</label>
        <input type="text" id="carStatus" name="carStatus" required><br>

        <button type="submit">Add Car</button>
    </form>
    <p id="carMessage"></p>

    <!-- Renter Form -->
    <h2>Add Renter</h2>
    <form id="renterForm">
        <label for="renterId">Renter ID:</label>
        <input type="text" id="renterId" name="renterId" required><br>

        <label for="renterName">Renter Name:</label>
        <input type="text" id="renterName" name="renterName" required><br>

        <label for="licenseNum">License Number:</label>
        <input type="text" id="licenseNum" name="licenseNum" required><br>

        <label for="phone">Phone:</label>
        <input type="text" id="phone" name="phone" required><br>

        <button type="submit">Add Renter</button>
    </form>
    <p id="renterMessage"></p>

    <!-- Payment Form -->
    <h2>Add Payment</h2>
    <form id="paymentForm">
        <label for="paymentId">Payment ID:</label>
        <input type="text" id="paymentId" name="paymentId" required><br>

        <label for="amount">Amount:</label>
        <input type="number" step="0.01" id="amount" name="amount" required><br>

        <label for="Pdate">Date:</label>
        <input type="text" id="Pdate" name="Pdate" required><br>

        <label for="renterPhone">Renter Phone:</label>
        <input type="text" id="renterPhone" name="renterPhone" required><br>

        <button type="submit">Add Payment</button>
    </form>
    <p id="paymentMessage"></p>

    <!-- Car Owner Form -->
    <h2>Add Car Owner</h2>
    <form id="carOwnerForm">
        <label for="ownerId">Owner ID:</label>
        <input type="text" id="ownerId" name="ownerId" required><br>

        <label for="ownerName">Owner Name:</label>
        <input type="text" id="ownerName" name="ownerName" required><br>

        <label for="address">Address:</label>
        <input type="text" id="address" name="address" required><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br>

        <label for="phone">Phone:</label>
        <input type="text" id="phone" name="phone" required><br>

        <button type="submit">Add Car Owner</button>
    </form>
    <p id="carOwnerMessage"></p>

    <script type="module">
        import { addCar, addRenter, addPayment, addCarOwner } from './api.js';

        // Handle Car Form Submission
        document.getElementById('carForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const formData = new FormData(event.target);
            const car = Object.fromEntries(formData);
            const result = await addCar(car);
            document.getElementById('carMessage').textContent = result.message || 'Failed to add car.';
        });

        // Handle Renter Form Submission
        document.getElementById('renterForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const formData = new FormData(event.target);
            const renter = Object.fromEntries(formData);
            const result = await addRenter(renter);
            document.getElementById('renterMessage').textContent = result.message || 'Failed to add renter.';
        });

        // Handle Payment Form Submission
        document.getElementById('paymentForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const formData = new FormData(event.target);
            const payment = Object.fromEntries(formData);
            const result = await addPayment(payment);
            document.getElementById('paymentMessage').textContent = result.message || 'Failed to add payment.';
        });

        // Handle Car Owner Form Submission
        document.getElementById('carOwnerForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const formData = new FormData(event.target);
            const carOwner = Object.fromEntries(formData);
            const result = await addCarOwner(carOwner);
            document.getElementById('carOwnerMessage').textContent = result.message || 'Failed to add car owner.';
        });
    </script>
</body>
</html>
